<div class="inner-dashboard-container">
<div class="max-w-lg mx-auto bg-white p-6 rounded-lg shadow-md">
  <!-- Button to toggle form visibility -->
  <button (click)="toggleForm()" class="btn custom-btn w-25 mb-4">
    {{ showForm ? 'View Discounts' : 'Add Discount Code' }}
  </button>

  <!-- Discount Table -->
  <div *ngIf="!showForm">
    <table class="table table-bordered table-striped">
      <thead class="table-light">
        <tr>
          <th class="p-2">Index#</th>
          <th class="p-2">Code</th>
          <th class="p-2">Type</th>
          <th class="p-2">Value</th>
          <th class="p-2">Expiry Date</th>
          <th class="p-2">Conditions</th>
          <th class="p-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Display dummy data -->
        <tr *ngFor="let discount of discounts; let i = index">
          <td class="p-2">{{ i + 1 }}</td>
          <td class="p-2">{{ discount.code }}</td>
          <td class="p-2">{{ discount.type }}</td>
          <td class="p-2">{{ discount.value }}</td>
          <td class="p-2">{{ discount.expiry }}</td>
          <td class="p-2">{{ discount.conditions }}</td>
          <td>
            <button class="btn btn-sm btn-info me-1"><i class="fa fa-ban"></i></button>
            <button class="btn btn-sm btn-warning me-1"><i class="fa fa-pencil-alt"></i></button>
            <button class="btn btn-sm btn-danger"><i class="fa fa-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Discount Form (Modal) -->
  <div *ngIf="showForm" class="w-100 bg-gray-900 bg-opacity-50">
    <h2 class="text-xl header-title p-4 font-weight-bold mb-4 text-center">Add Discount Code</h2>

    <div class="bg-white w-50 p-6 rounded-lg shadow-md max-w-lg w-full relative">
  
      <form [formGroup]="newDiscountForm" (ngSubmit)="addDiscount()">
        <!-- Discount Code -->
        <div class="mb-4">
          <label for="code" class="form-label">Discount Code</label>
          <input formControlName="code" type="text" class="form-control" id="code" placeholder="Enter discount code" required>
        </div>
  
        <!-- Discount Type -->
        <div class="mb-4">
          <label for="type" class="form-label">Discount Type</label>
          <select formControlName="type" class="form-select" id="type" required>
            <option value="percentage">Percentage</option>
            <option value="fixed">Fixed Amount</option>
          </select>
        </div>
  
        <!-- Discount Value -->
        <div class="mb-4">
          <label for="value" class="form-label">Discount Value</label>
          <input formControlName="value" type="number" class="form-control" id="value" placeholder="Enter discount value" required>
        </div>
  
        <!-- Expiry Date -->
        <div class="mb-4">
          <label for="expiry" class="form-label">Expiry Date</label>
          <input formControlName="expiry" type="date" class="form-control" id="expiry" required>
        </div>
  
        <!-- Conditions -->
        <div class="mb-4">
          <label for="conditions" class="form-label">Conditions</label>
          <textarea formControlName="conditions" class="form-control" id="conditions" placeholder="Enter discount conditions" rows="3"></textarea>
        </div>
  
        <!-- Submit Button -->
        <button type="submit" class="btn custom-btn w-25" [disabled]="newDiscountForm.invalid">
          Add Discount
        </button>
      </form>
    </div>
  </div>
  
</div>