<br><br>
<div class="text-center h-5">
  <img src="assets/images/logo.webp" class="img-fluid mx-auto">
</div>
<div class="container d-flex justify-content-center align-items-center m-5">
  <div class="card p-4 w-100" style="max-width: 600px;">

    <!-- Step 1: User Registration -->
    <form *ngIf="step === 1" [formGroup]="step1Form()">
      <h3 class="text-center mb-4">Create Your Account: Step 1 of 2</h3>
      <p class="text-center text-success">‚úÖ 14 days Money back guarantee</p>

      <div class="mb-3">
        <label class="form-label">Email address</label>
        <input type="email" class="form-control" formControlName="email" placeholder="Enter your email">
        <div *ngIf="step1Form().get('email')?.touched && step1Form().get('email')?.invalid" class="text-danger">
          <small *ngIf="step1Form().get('email')?.hasError('required')">Email address is required.</small>
          <small *ngIf="step1Form().get('email')?.hasError('email')">Enter a valid email address.</small>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" formControlName="password" placeholder="Enter your password">
        <div *ngIf="step1Form().get('password')?.touched && step1Form().get('password')?.invalid" class="text-danger">
          <small *ngIf="step1Form().get('password')?.hasError('required')">Password is required.</small>
          <small *ngIf="step1Form().get('password')?.hasError('minlength')">Password must be at least 6 characters long.</small>
        </div>
      </div>

      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" formControlName="consent">
        <label class="form-check-label">
          üîí I authorize the transmission of my data and agree to receive promotional information.
        </label>
        <div *ngIf="step1Form().get('consent')?.touched && step1Form().get('consent')?.invalid" class="text-danger">
          <small>You must agree to the data consent.</small>
        </div>
      </div>

      <button type="button" class="btn btn-primary w-100" (click)="nextStep()" [disabled]="step1Form().invalid">Continue</button>
    </form>

    <!-- Step 2: Additional Details -->
    <form *ngIf="step === 2" [formGroup]="step2Form()" (ngSubmit)="submitForm()">
      <h3 class="text-center mb-4">Create Your Account and Start Configuring</h3>

      <h5>Contact Information</h5>
      <div class="row">
        <div class="col-6 mb-3">
          <label class="form-label">First name</label>
          <input type="text" class="form-control" formControlName="firstName">
          <div *ngIf="step2Form().get('firstName')?.touched && step2Form().get('firstName')?.invalid" class="text-danger">
            <small *ngIf="step2Form().get('firstName')?.hasError('required')">First name is required.</small>
          </div>
        </div>
        <div class="col-6 mb-3">
          <label class="form-label">Last name</label>
          <input type="text" class="form-control" formControlName="lastName">
          <div *ngIf="step2Form().get('lastName')?.touched && step2Form().get('lastName')?.invalid" class="text-danger">
            <small *ngIf="step2Form().get('lastName')?.hasError('required')">Last name is required.</small>
          </div>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Phone</label>
        <input type="text" class="form-control" formControlName="phone">
        <div *ngIf="step2Form().get('phone')?.touched && step2Form().get('phone')?.invalid" class="text-danger">
          <small *ngIf="step2Form().get('phone')?.hasError('required')">Phone number is required.</small>
          <small *ngIf="step2Form().get('phone')?.hasError('pattern')">Enter a valid phone number.</small>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Company</label>
        <input type="text" class="form-control" formControlName="company">
      </div>
      <div class="mb-3">
        <label class="form-label">Address</label>
        <input type="text" class="form-control" formControlName="address">
      </div>

      <h5 class="mt-4">Offer</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" formControlName="subscription" value="monthly" checked>
        <label class="form-check-label">
          ClickChauffeur Monthly Subscription - $39.00 every month
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" formControlName="subscription" value="annual">
        <label class="form-check-label">
          Annual subscription - $327.00 every year
        </label>
      </div>

      <h5 class="mt-4">Payment Information</h5>
      <div class="mb-3">
        <label class="form-label">Card number</label>
        <input type="text" class="form-control" formControlName="cardNumber">
        <div *ngIf="step2Form().get('cardNumber')?.touched && step2Form().get('cardNumber')?.invalid" class="text-danger">
          <small *ngIf="step2Form().get('cardNumber')?.hasError('required')">Card number is required.</small>
        </div>
      </div>
      <div class="row">
        <div class="col-6 mb-3">
          <label class="form-label">Expiration date</label>
          <input type="text" class="form-control" formControlName="expirationDate">
          <div *ngIf="step2Form().get('expirationDate')?.touched && step2Form().get('expirationDate')?.invalid" class="text-danger">
            <small *ngIf="step2Form().get('expirationDate')?.hasError('required')">Expiration date is required.</small>
          </div>
        </div>
        <div class="col-6 mb-3">
          <label class="form-label">CVC</label>
          <input type="text" class="form-control" formControlName="cvc">
          <div *ngIf="step2Form().get('cvc')?.touched && step2Form().get('cvc')?.invalid" class="text-danger">
            <small *ngIf="step2Form().get('cvc')?.hasError('required')">CVC is required.</small>
          </div>
        </div>
      </div>

      <p class="text-muted">üîê Payment 100% secure, 256-bit encryption</p>

      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" formControlName="dataConsent">
        <label class="form-check-label">I agree to data processing.</label>
        <div *ngIf="step2Form().get('dataConsent')?.touched && step2Form().get('dataConsent')?.invalid" class="text-danger">
          <small>You must agree to data processing.</small>
        </div>
      </div>
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" formControlName="terms">
        <label class="form-check-label">I accept the Terms and Conditions.</label>
        <div *ngIf="step2Form().get('terms')?.touched && step2Form().get('terms')?.invalid" class="text-danger">
          <small>You must accept the terms and conditions.</small>
        </div>
      </div>

      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-secondary" (click)="prevStep()">Back</button>
        <button type="submit" class="btn btn-primary" [disabled]="step2Form().invalid">Submit</button>
      </div>
    </form>

  </div>
</div>
